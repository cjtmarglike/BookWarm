<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="com.book.warm.mapper.ShopListMapper">

	
<!-- 	
	
	
	페이징처리
	<select id="shoplistpage" resultType="com.book.warm.vo.ShopListBoardVO">
	<![CDATA[
	select isbn, book_title, book_price, book_price_for_sale, writer_name, translator_name, publisher_name , 
       		 book_tot_page, book_intro, book_idx, book_story, BOOK_IMG, genre
	from (
       		 select/*index_desc(book SYS_C007190)*/ 
            		rownum rn, book.isbn, book_title, book_price, book_price_for_sale, writer_name, translator_name, publisher_name, 
             		book_tot_page, book_intro, book_idx, book_story, BOOK_IMG, genre 
      			  from  book, publisher, writer, translator, category
        			where book.publisher_no = publisher.publisher_no 
              		and writer.writer_no = book.writer_no
                	and book.translator_no = translator.translator_no
               		and book.isbn = category.isbn    
               		and rownum <= #{pageNum} * #{amount})
	where rn > (#{pageNum}-1) * #{amount}
   ]]>
	</select>
	
	페이징처리
	<select id="shoplistpage2" resultType="com.book.warm.vo.ShopListBoardVO">
	<![CDATA[
	select isbn, book_title, book_price, book_price_for_sale, writer_name, translator_name, publisher_name , 
       		 book_tot_page, book_intro, book_idx, book_story, BOOK_IMG, genre
	from (
       		 select/*index_desc(book SYS_C007190)*/ 
            		rownum rn, book.isbn, book_title, book_price, book_price_for_sale, writer_name, translator_name, publisher_name, 
             		book_tot_page, book_intro, book_idx, book_story, BOOK_IMG, genre 
      			  from  book, publisher, writer, translator, category
        			where book.publisher_no = publisher.publisher_no 
              		and writer.writer_no = book.writer_no
                	and book.translator_no = translator.translator_no
               		and book.isbn = category.isbn    
               		and rownum <= #{pageNum} * #{amount})
	where rn > (#{pageNum}-1) * #{amount}
	order by book_title
   ]]>
	</select>
	
	
	
	
	
	전체 페이지처리 
	<select id="gettotalcount" resultType="int">
		select count(*) from book, publisher, writer, translator, category
		where book.publisher_no = publisher.publisher_no 
              		and writer.writer_no = book.writer_no
                	and book.translator_no = translator.translator_no
               		and book.isbn = category.isbn    
	</select> -->
</mapper>